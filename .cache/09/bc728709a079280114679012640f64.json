{"id":"AxoZ","dependencies":[{"name":"/home/oudwin/Documents/1.-code/0.-personal/0. Courses/NodeJS/0.-course_files/complete-node-bootcamp/4-natours/starter/package.json","includedInParent":true,"mtime":1610125396709},{"name":"axios","loc":{"line":1,"column":18},"parent":"/home/oudwin/Documents/1.-code/0.-personal/0. Courses/NodeJS/0.-course_files/complete-node-bootcamp/4-natours/starter/public/js/auth.js","resolved":"/home/oudwin/Documents/1.-code/0.-personal/0. Courses/NodeJS/0.-course_files/complete-node-bootcamp/4-natours/starter/node_modules/axios/index.js"},{"name":"./alerts","loc":{"line":2,"column":26},"parent":"/home/oudwin/Documents/1.-code/0.-personal/0. Courses/NodeJS/0.-course_files/complete-node-bootcamp/4-natours/starter/public/js/auth.js","resolved":"/home/oudwin/Documents/1.-code/0.-personal/0. Courses/NodeJS/0.-course_files/complete-node-bootcamp/4-natours/starter/public/js/alerts.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.logout=exports.login=void 0;var o=t(require(\"axios\")),e=require(\"./alerts\");function t(o){return o&&o.__esModule?o:{default:o}}var s=function(t,s){var n=t.email,a=t.password;(0,o.default)({method:\"POST\",url:\"\".concat(window.location.origin).concat(s),data:{email:n,password:a}}).then(function(o){\"success\"===o.data.status&&((0,e.showAlert)(\"success\",\"You have logged in\",\"body\"),window.setTimeout(function(){window.location.assign(\"/\")},500))}).catch(function(o){(0,e.showAlert)(\"error\",o.response.data.message,\"body\")})};exports.login=s;var n=function(){(0,o.default)({method:\"GET\",url:\"\".concat(window.location.origin,\"/api/v1/users/logout\")}).then(function(o){(0,e.showAlert)(\"success\",\"You have logged out successfully\",\"body\"),window.setTimeout(function(){window.location.assign(\"/\")},500)}).catch(function(o){(0,e.showAlert)(\"error\",o.response.data.message,\"body\")})};exports.logout=n;"},"sourceMaps":{"js":{"mappings":[{"source":"auth.js","original":{"line":26,"column":7},"generated":{"line":1,"column":0}},{"source":"auth.js","original":{"line":26,"column":7},"generated":{"line":1,"column":13}},{"source":"auth.js","original":{"line":26,"column":7},"generated":{"line":1,"column":20}},{"source":"auth.js","original":{"line":26,"column":7},"generated":{"line":1,"column":35}},{"source":"auth.js","original":{"line":26,"column":7},"generated":{"line":1,"column":43}},{"source":"auth.js","original":{"line":26,"column":7},"generated":{"line":1,"column":56}},{"source":"auth.js","original":{"line":26,"column":7},"generated":{"line":1,"column":57}},{"source":"auth.js","original":{"line":26,"column":7},"generated":{"line":1,"column":64}},{"source":"auth.js","original":{"line":26,"column":7},"generated":{"line":1,"column":68}},{"source":"auth.js","original":{"line":26,"column":7},"generated":{"line":1,"column":76}},{"source":"auth.js","original":{"line":26,"column":7},"generated":{"line":1,"column":83}},{"source":"auth.js","original":{"line":26,"column":7},"generated":{"line":1,"column":91}},{"source":"auth.js","original":{"line":26,"column":7},"generated":{"line":1,"column":102}},{"source":"auth.js","original":{"line":1,"column":0},"generated":{"line":1,"column":104}},{"source":"auth.js","original":{"line":1,"column":0},"generated":{"line":1,"column":108}},{"source":"auth.js","original":{"line":1,"column":0},"generated":{"line":1,"column":110}},{"source":"auth.js","original":{"line":1,"column":0},"generated":{"line":1,"column":112}},{"source":"auth.js","original":{"line":1,"column":0},"generated":{"line":1,"column":120}},{"source":"auth.js","original":{"line":2,"column":0},"generated":{"line":1,"column":130}},{"source":"auth.js","original":{"line":2,"column":0},"generated":{"line":1,"column":132}},{"source":"auth.js","original":{"line":2,"column":0},"generated":{"line":1,"column":140}},{"source":"auth.js","original":{"line":26,"column":7},"generated":{"line":1,"column":152}},{"source":"auth.js","original":{"line":26,"column":7},"generated":{"line":1,"column":161}},{"source":"auth.js","original":{"line":26,"column":7},"generated":{"line":1,"column":163}},{"source":"auth.js","original":{"line":26,"column":7},"generated":{"line":1,"column":166}},{"source":"auth.js","original":{"line":26,"column":7},"generated":{"line":1,"column":173}},{"source":"auth.js","original":{"line":26,"column":7},"generated":{"line":1,"column":176}},{"source":"auth.js","original":{"line":26,"column":7},"generated":{"line":1,"column":178}},{"source":"auth.js","original":{"line":26,"column":7},"generated":{"line":1,"column":189}},{"source":"auth.js","original":{"line":26,"column":7},"generated":{"line":1,"column":191}},{"source":"auth.js","original":{"line":26,"column":7},"generated":{"line":1,"column":192}},{"source":"auth.js","original":{"line":26,"column":7},"generated":{"line":1,"column":200}},{"source":"auth.js","original":{"line":4,"column":7},"generated":{"line":1,"column":203}},{"source":"auth.js","name":"login","original":{"line":4,"column":13},"generated":{"line":1,"column":207}},{"source":"auth.js","original":{"line":4,"column":21},"generated":{"line":1,"column":209}},{"source":"auth.js","name":"endPoint","original":{"line":4,"column":43},"generated":{"line":1,"column":218}},{"source":"auth.js","name":"endPoint","original":{"line":4,"column":43},"generated":{"line":1,"column":220}},{"source":"auth.js","name":"email","original":{"line":4,"column":24},"generated":{"line":1,"column":223}},{"source":"auth.js","name":"email","original":{"line":4,"column":24},"generated":{"line":1,"column":227}},{"source":"auth.js","name":"email","original":{"line":4,"column":24},"generated":{"line":1,"column":229}},{"source":"auth.js","name":"email","original":{"line":4,"column":24},"generated":{"line":1,"column":231}},{"source":"auth.js","name":"password","original":{"line":4,"column":31},"generated":{"line":1,"column":237}},{"source":"auth.js","name":"password","original":{"line":4,"column":31},"generated":{"line":1,"column":239}},{"source":"auth.js","name":"password","original":{"line":4,"column":31},"generated":{"line":1,"column":241}},{"source":"auth.js","original":{"line":5,"column":8},"generated":{"line":1,"column":251}},{"source":"auth.js","original":{"line":5,"column":8},"generated":{"line":1,"column":253}},{"source":"auth.js","original":{"line":5,"column":8},"generated":{"line":1,"column":255}},{"source":"auth.js","original":{"line":5,"column":8},"generated":{"line":1,"column":264}},{"source":"auth.js","name":"method","original":{"line":6,"column":4},"generated":{"line":1,"column":265}},{"source":"auth.js","original":{"line":6,"column":12},"generated":{"line":1,"column":272}},{"source":"auth.js","name":"url","original":{"line":7,"column":4},"generated":{"line":1,"column":279}},{"source":"auth.js","name":"window","original":{"line":7,"column":12},"generated":{"line":1,"column":283}},{"source":"auth.js","name":"window","original":{"line":7,"column":12},"generated":{"line":1,"column":286}},{"source":"auth.js","name":"window","original":{"line":7,"column":12},"generated":{"line":1,"column":293}},{"source":"auth.js","name":"location","original":{"line":7,"column":19},"generated":{"line":1,"column":300}},{"source":"auth.js","name":"origin","original":{"line":7,"column":28},"generated":{"line":1,"column":309}},{"source":"auth.js","name":"endPoint","original":{"line":7,"column":37},"generated":{"line":1,"column":317}},{"source":"auth.js","name":"endPoint","original":{"line":7,"column":37},"generated":{"line":1,"column":324}},{"source":"auth.js","name":"data","original":{"line":8,"column":4},"generated":{"line":1,"column":327}},{"source":"auth.js","original":{"line":8,"column":10},"generated":{"line":1,"column":332}},{"source":"auth.js","name":"email","original":{"line":9,"column":6},"generated":{"line":1,"column":333}},{"source":"auth.js","name":"email","original":{"line":9,"column":6},"generated":{"line":1,"column":339}},{"source":"auth.js","name":"password","original":{"line":10,"column":6},"generated":{"line":1,"column":341}},{"source":"auth.js","name":"password","original":{"line":10,"column":6},"generated":{"line":1,"column":350}},{"source":"auth.js","name":"then","original":{"line":13,"column":5},"generated":{"line":1,"column":355}},{"source":"auth.js","original":{"line":13,"column":10},"generated":{"line":1,"column":360}},{"source":"auth.js","name":"res","original":{"line":13,"column":11},"generated":{"line":1,"column":369}},{"source":"auth.js","original":{"line":14,"column":30},"generated":{"line":1,"column":372}},{"source":"auth.js","name":"res","original":{"line":14,"column":10},"generated":{"line":1,"column":384}},{"source":"auth.js","name":"data","original":{"line":14,"column":14},"generated":{"line":1,"column":386}},{"source":"auth.js","name":"status","original":{"line":14,"column":19},"generated":{"line":1,"column":391}},{"source":"auth.js","original":{"line":15,"column":18},"generated":{"line":1,"column":401}},{"source":"auth.js","original":{"line":15,"column":18},"generated":{"line":1,"column":403}},{"source":"auth.js","original":{"line":15,"column":18},"generated":{"line":1,"column":405}},{"source":"auth.js","original":{"line":15,"column":18},"generated":{"line":1,"column":416}},{"source":"auth.js","original":{"line":15,"column":29},"generated":{"line":1,"column":426}},{"source":"auth.js","original":{"line":15,"column":51},"generated":{"line":1,"column":447}},{"source":"auth.js","name":"window","original":{"line":16,"column":8},"generated":{"line":1,"column":455}},{"source":"auth.js","name":"setTimeout","original":{"line":16,"column":15},"generated":{"line":1,"column":462}},{"source":"auth.js","original":{"line":16,"column":26},"generated":{"line":1,"column":473}},{"source":"auth.js","name":"window","original":{"line":17,"column":10},"generated":{"line":1,"column":484}},{"source":"auth.js","name":"location","original":{"line":17,"column":17},"generated":{"line":1,"column":491}},{"source":"auth.js","name":"assign","original":{"line":17,"column":26},"generated":{"line":1,"column":500}},{"source":"auth.js","original":{"line":17,"column":33},"generated":{"line":1,"column":507}},{"source":"auth.js","original":{"line":18,"column":11},"generated":{"line":1,"column":513}},{"source":"auth.js","name":"catch","original":{"line":21,"column":5},"generated":{"line":1,"column":521}},{"source":"auth.js","original":{"line":21,"column":11},"generated":{"line":1,"column":527}},{"source":"auth.js","name":"err","original":{"line":21,"column":12},"generated":{"line":1,"column":536}},{"source":"auth.js","original":{"line":22,"column":16},"generated":{"line":1,"column":540}},{"source":"auth.js","original":{"line":22,"column":16},"generated":{"line":1,"column":542}},{"source":"auth.js","original":{"line":22,"column":16},"generated":{"line":1,"column":544}},{"source":"auth.js","original":{"line":22,"column":16},"generated":{"line":1,"column":555}},{"source":"auth.js","name":"err","original":{"line":22,"column":25},"generated":{"line":1,"column":563}},{"source":"auth.js","name":"response","original":{"line":22,"column":29},"generated":{"line":1,"column":565}},{"source":"auth.js","name":"data","original":{"line":22,"column":38},"generated":{"line":1,"column":574}},{"source":"auth.js","name":"message","original":{"line":22,"column":43},"generated":{"line":1,"column":579}},{"source":"auth.js","original":{"line":22,"column":52},"generated":{"line":1,"column":587}},{"source":"auth.js","original":{"line":26,"column":7},"generated":{"line":1,"column":598}},{"source":"auth.js","original":{"line":26,"column":7},"generated":{"line":1,"column":606}},{"source":"auth.js","original":{"line":26,"column":7},"generated":{"line":1,"column":612}},{"source":"auth.js","original":{"line":26,"column":7},"generated":{"line":1,"column":614}},{"source":"auth.js","name":"logout","original":{"line":26,"column":13},"generated":{"line":1,"column":618}},{"source":"auth.js","original":{"line":26,"column":22},"generated":{"line":1,"column":620}},{"source":"auth.js","original":{"line":27,"column":8},"generated":{"line":1,"column":632}},{"source":"auth.js","original":{"line":27,"column":8},"generated":{"line":1,"column":634}},{"source":"auth.js","original":{"line":27,"column":8},"generated":{"line":1,"column":636}},{"source":"auth.js","original":{"line":27,"column":8},"generated":{"line":1,"column":645}},{"source":"auth.js","name":"method","original":{"line":28,"column":4},"generated":{"line":1,"column":646}},{"source":"auth.js","original":{"line":28,"column":12},"generated":{"line":1,"column":653}},{"source":"auth.js","name":"url","original":{"line":29,"column":4},"generated":{"line":1,"column":659}},{"source":"auth.js","name":"window","original":{"line":29,"column":12},"generated":{"line":1,"column":663}},{"source":"auth.js","name":"window","original":{"line":29,"column":12},"generated":{"line":1,"column":666}},{"source":"auth.js","name":"window","original":{"line":29,"column":12},"generated":{"line":1,"column":673}},{"source":"auth.js","name":"location","original":{"line":29,"column":19},"generated":{"line":1,"column":680}},{"source":"auth.js","name":"origin","original":{"line":29,"column":28},"generated":{"line":1,"column":689}},{"source":"auth.js","original":{"line":29,"column":7},"generated":{"line":1,"column":696}},{"source":"auth.js","name":"then","original":{"line":31,"column":5},"generated":{"line":1,"column":722}},{"source":"auth.js","original":{"line":31,"column":10},"generated":{"line":1,"column":727}},{"source":"auth.js","name":"res","original":{"line":31,"column":11},"generated":{"line":1,"column":736}},{"source":"auth.js","original":{"line":32,"column":16},"generated":{"line":1,"column":740}},{"source":"auth.js","original":{"line":32,"column":16},"generated":{"line":1,"column":742}},{"source":"auth.js","original":{"line":32,"column":16},"generated":{"line":1,"column":744}},{"source":"auth.js","original":{"line":32,"column":16},"generated":{"line":1,"column":755}},{"source":"auth.js","original":{"line":32,"column":27},"generated":{"line":1,"column":765}},{"source":"auth.js","original":{"line":32,"column":63},"generated":{"line":1,"column":800}},{"source":"auth.js","name":"window","original":{"line":33,"column":6},"generated":{"line":1,"column":808}},{"source":"auth.js","name":"setTimeout","original":{"line":33,"column":13},"generated":{"line":1,"column":815}},{"source":"auth.js","original":{"line":33,"column":24},"generated":{"line":1,"column":826}},{"source":"auth.js","name":"window","original":{"line":34,"column":8},"generated":{"line":1,"column":837}},{"source":"auth.js","name":"location","original":{"line":34,"column":15},"generated":{"line":1,"column":844}},{"source":"auth.js","name":"assign","original":{"line":34,"column":24},"generated":{"line":1,"column":853}},{"source":"auth.js","original":{"line":34,"column":31},"generated":{"line":1,"column":860}},{"source":"auth.js","original":{"line":35,"column":9},"generated":{"line":1,"column":866}},{"source":"auth.js","name":"catch","original":{"line":37,"column":5},"generated":{"line":1,"column":873}},{"source":"auth.js","original":{"line":37,"column":11},"generated":{"line":1,"column":879}},{"source":"auth.js","name":"e","original":{"line":37,"column":12},"generated":{"line":1,"column":888}},{"source":"auth.js","original":{"line":38,"column":16},"generated":{"line":1,"column":892}},{"source":"auth.js","original":{"line":38,"column":16},"generated":{"line":1,"column":894}},{"source":"auth.js","original":{"line":38,"column":16},"generated":{"line":1,"column":896}},{"source":"auth.js","original":{"line":38,"column":16},"generated":{"line":1,"column":907}},{"source":"auth.js","name":"e","original":{"line":38,"column":25},"generated":{"line":1,"column":915}},{"source":"auth.js","name":"response","original":{"line":38,"column":27},"generated":{"line":1,"column":917}},{"source":"auth.js","name":"data","original":{"line":38,"column":36},"generated":{"line":1,"column":926}},{"source":"auth.js","name":"message","original":{"line":38,"column":41},"generated":{"line":1,"column":931}},{"source":"auth.js","original":{"line":38,"column":50},"generated":{"line":1,"column":939}},{"source":"auth.js","original":{"line":26,"column":7},"generated":{"line":1,"column":950}},{"source":"auth.js","original":{"line":26,"column":7},"generated":{"line":1,"column":958}},{"source":"auth.js","original":{"line":26,"column":7},"generated":{"line":1,"column":965}}],"sources":{"auth.js":"import axios from 'axios';\nimport { showAlert } from './alerts';\n// login form\nexport const login = ({ email, password }, endPoint) => {\n  axios({\n    method: 'POST',\n    url: `${window.location.origin}${endPoint}`,\n    data: {\n      email,\n      password,\n    },\n  })\n    .then((res) => {\n      if (res.data.status === 'success') {\n        showAlert('success', 'You have logged in', 'body');\n        window.setTimeout(() => {\n          window.location.assign('/');\n        }, 500);\n      }\n    })\n    .catch((err) => {\n      showAlert('error', err.response.data.message, 'body');\n    });\n};\n\nexport const logout = () => {\n  axios({\n    method: 'GET',\n    url: `${window.location.origin}/api/v1/users/logout`,\n  })\n    .then((res) => {\n      showAlert('success', 'You have logged out successfully', 'body');\n      window.setTimeout(() => {\n        window.location.assign('/');\n      }, 500);\n    })\n    .catch((e) => {\n      showAlert('error', e.response.data.message, 'body');\n    });\n};\n"},"lineCount":null}},"error":null,"hash":"dd53f36f77c6bee197c47877e189037a","cacheData":{"env":{}}}